<script>
  async function sendMessage() {
    const input = document.getElementById('userInput');
    const chat = document.getElementById('chat');
    const userMessage = input.value;
    input.value = '';
    chat.innerHTML += `<p><strong>You:</strong> ${userMessage}</p>`;

    const res = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message: userMessage })
    });

    const data = await res.json();

    const cleanReply = data.reply.replace(/<think>.*?<\/think>/gs, "").trim();
    chat.innerHTML += `<p><strong>Bot:</strong> ${cleanReply}</p>`;
  }
</script>
